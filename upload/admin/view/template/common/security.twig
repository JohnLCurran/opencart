<div id="modal-security" class="modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title text-danger"><i class="fa fa-exclamation-triangle"></i> {{ heading_title }}</h4>
      </div>
      <div class="modal-body">
        <div class="alert alert-info"><i class="fa fa-exclamation-circle"></i> It is very imporant that you move the storage directory out of the web diretory (e.g. public_html or www).</div>
        <div class="form-group">
          <label class="control-label" for="input-directory">{{ entry_directory }}</label>
          <div class="input-group">
       
                        <select name="country_id" id="input-country" class="form-control">
       
                
                {% for path in paths %}
                <option value="{{ path }}">{{ path }}</option>
                {% endfor %}
              
              </select>
          
          <span class="input-group-addon" id="input-directory">{{ path }}</span>
           
            <input type="text" name="filename" value="storage" placeholder="{{ entry_name }}" class="form-control" />
          </div>
        </div>
        <div class="text-right">
          <button type="button" id="button-move" class="btn btn-danger">{{ button_move }}</button>
        </div>
        <div style="height: 300px; overflow: scroll;" class="form-control hidden" disabled="disabled">{{ text_instruction }}</div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript"><!--
$(document).ready(function() {
	$('#modal-security').modal('show');
});   

$('#button-move').on('click', function() {
	$.ajax({
		url: '{{ catalog }}index.php?route=common/security/move&user_token={{ user_token }}',
		type: 'post',
		data: $('input[name=\'filename\']'),
		dataType: 'json',
		crossDomain: true,
		beforeSend: function() {
			$('#button-move').button('loading');
		},
		complete: function() {
			$('#button-move').button('reset');
		},
		success: function(json) {
			$('.alert-dismissible, .text-danger').remove();
			$('.form-group').removeClass('has-error');

			if (json['error']) {
				$('#content > .container-fluid').prepend('<div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i> ' + json['error'] + ' <button type="button" class="close" data-dismiss="alert">&times;</button></div>');

				// Highlight any found errors
				$('#modal-security').closest('.form-group').addClass('has-error');
			}

			if (json['success']) {
				$('#content > .container-fluid').prepend('<div class="alert alert-success alert-dismissible"><i class="fa fa-check-circle"></i> ' + json['success'] + ' <button type="button" class="close" data-dismiss="alert">&times;</button></div>');
			}
		},
		error: function(xhr, ajaxOptions, thrownError) {
			alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
		}
	});
});
//--></script>